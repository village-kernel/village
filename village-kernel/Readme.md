# village-kernel目录结构：

## arch：
- 主要存放一些与CPU架构相关的代码，时钟、中断与调度。
- 启动代码之类的属于更加底层，存放在vendor目录。
- 这样做的目的是为了更好剥离底层代码，底层有底层的实现方式。
- 为了逻辑通用，切记不要在该目录编写太多不通用的底层的代码。

- arm：arm平台相关目录
- x86：i686平台相关目录

## core：
- 与内核相关的核心代码，包括线程管理，内存管理，中断管理，模块管理，驱动管理等。
- 由于这里的代码不加入libkernel.so库，故增加了Symbol类，用来导出相关接口。

## filesys：
- 文件系统相关目录，目前已规划好接入更多文件系统的框架，但还需继续打磨。
- 文件系统目前只适配了FAT，还不完善，后面会继续更改。

## stdlib：
- 该目录下的代码会归类到libc.so，libstdc++.so，libm.so共享库。
- 标准运行库相关目录，目前只初步实现一些POSIX基础接口，例如C库的stdio和string部分接口。

## subsys：
- 这里用来存放子模块相关代码，非核心可裁剪的模块。
- 目前有输入子系统Input，加载子系统Loader，以及工作队列WorkQueue。

## utilities：
- 该目录下的代码会归类到libkernel.so共享库。

- binutils：
	- 主要存放与ELF文件相关的代码，例如Elf加载器、执行器，共享库工具，动态模块工具。

- fileutils：
	- 主要存放与文件操作相关的代码，例如FileStream, DirStream等。

- parser：
	- 这里是存放一些工具类的目录，比如解析器之类的，主要用来辅助处理文本文件。

- sync：
	- 这里是用来存放线程安全的相关目录，目前只简单实现了互斥锁，自旋锁，信号量。

## vendor：
- 这里用来存放与芯片厂商提供相关的代码，例如ST提供的HAL底层库之类。
- 该目录下的代码会归类到libhw.so共享库。
- 适配新平台时，主要工作都在此目录

- ### arch：架构名称
	---
	- mcu:
		- 存放mcu厂家提供的底层代码文件，包括启动代码，链接文件。
		- 定义编译时的相关参数以及链接时的相关参数。

	- hal:
		- 存放与处理器相关的底层hal库代码，这里抽象化硬件资源以供driver调用。

	- driver:
		- 存放通用驱动代码
	---